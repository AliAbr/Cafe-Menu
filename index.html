<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Menu Viewer</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #fefefe;
      overflow-x: hidden;
    }

    #viewerContainer {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    canvas {
      display: block;
      max-width: 100%;
      background: white;
    }

    .textLayer {
      position: absolute;
      top: 0;
      left: 0;
      color: black;
      font-family: sans-serif;
      transform-origin: 0 0;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div id="viewerContainer"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    const url = 'menu.pdf'; // نام فایل پی‌دی‌اف شما

    const container = document.getElementById('viewerContainer');
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

    pdfjsLib.getDocument(url).promise.then(pdf => {
      for (let pageNumber = 1; pageNumber <= pdf.numPages; pageNumber++) {
        pdf.getPage(pageNumber).then(page => {
          const viewport = page.getViewport({ scale: 1.5 });

          const wrapper = document.createElement('div');
          wrapper.style.position = 'relative';
          wrapper.style.width = viewport.width + 'px';
          wrapper.style.height = viewport.height + 'px';

          const canvas = document.createElement('canvas');
          canvas.width = viewport.width;
          canvas.height = viewport.height;
          const context = canvas.getContext('2d');

          wrapper.appendChild(canvas);
          container.appendChild(wrapper);

          page.render({ canvasContext: context, viewport: viewport });

          page.getTextContent().then(textContent => {
            const textLayerDiv = document.createElement('div');
            textLayerDiv.className = 'textLayer';
            textLayerDiv.style.width = canvas.width + 'px';
            textLayerDiv.style.height = canvas.height + 'px';
            wrapper.appendChild(textLayerDiv);

            pdfjsLib.renderTextLayer({
              textContent: textContent,
              container: textLayerDiv,
              viewport: viewport,
              textDivs: []
            });
          });
        });
      }
    });
  </script>
</body>
</html>
